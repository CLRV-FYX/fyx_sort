name: Test FYX-SORT

on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout code
      uses: actions/checkout@v4
    
    - name: Compile test
      run: |
        echo "Creating test file..."
        cat > test_fyx.cpp << 'EOF'
#define FYX_MAIN
#include "fyx_sort.hpp"
int main() { return main_test(); }
EOF
        
        echo "Compiling..."
        g++ -std=c++17 -O2 -pthread -o test_fyx test_fyx.cpp
    
    - name: Run test
      run: |
        echo "Running tests..."
        ./test_fyx
